var searchData,searchId="LiBfqbJVcV",searchHash="#"+searchId,searchContainerID="#PkfLWpAbet",searchWrapperID="#iCxFxjkHbP",searchCloseButtonID="#VjLlGakifb",searchInputID="#vpcKVYIppa",searchResultCID="#fWwVHRuDuN";function hideSearch(){var e=document.querySelector(searchContainerID);window.location.hash===searchHash&&history.go(-1),window.onhashchange=null,e&&(e.style.display="none")}function listenKey(e){"Escape"===e.key&&(hideSearch(),window.removeEventListener("keyup",listenKey))}function showSearch(){var e=document.querySelector(searchContainerID),t=document.querySelector(searchInputID);window.onhashchange=hideSearch,window.location.hash!==searchHash&&history.pushState(null,null,searchHash),e&&(e.style.display="flex",window.addEventListener("keyup",listenKey)),t&&t.focus()}function fetchAllData(t={}){var e=baseURL+"data/search.json";fetch(e).then(function(e){return e.json()}).then(function(e){searchData=e.list,"function"==typeof t.onSuccess&&t.onSuccess(e.list)}).catch(function(e){console.error(e),"function"==typeof t.onError&&t.onError()})}function onClickSearchItem(e){var t,e=e.currentTarget;e&&(e=(e.getAttribute("href")||"").split("#")[1]||"",(t=document.getElementById(e))||(e=decodeURI(e),t=document.getElementById(e)),t&&setTimeout(function(){bringElementIntoView(t)},100))}function buildSearchResult(e){var t="";for(const r of e){var n=r.item;t+=`

    <a onclick="onClickSearchItem(event)" href="${r.item.link.replace('<a href="',"").replace(/">.*/,"")}" class="search-result-item">
      <div class="search-result-item-title">
          ${n.title}
      </div>
      <div class="search-result-item-p">
          ${n.description||"No description available."}
      </div>
    </a>
    `}return t}function getSearchResult(e,t,n){var t={shouldSort:!0,threshold:.4,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:t},r=Fuse.createIndex(t.keys,e),e=new Fuse(e,t,r).search(n);return e=20<e.length?e.slice(0,20):e}function debounce(n,r,a){var c;return function(){var e=this,t=arguments;clearTimeout(c),c=setTimeout(function(){c=null,a||n.apply(e,t)},r),a&&!c&&n.apply(e,t)}}function search(e){var t=e.target.value,n=document.querySelector(searchResultCID),r=["title","description"];if(n)if(t){if(!searchData)return n.innerHTML="Loading...",void fetchAllData({onSuccess:function(e){a(getSearchResult(e,r,t))},onError:function(){n.innerHTML="Failed to load result."}});a(getSearchResult(searchData,r,t))}else n.innerHTML="Type anything to view search result";else console.error("Search result container not found");function a(e){0===e.length?n.innerHTML="No result found! Try some different combination.":(e=buildSearchResult(e),n.innerHTML=e)}}function onDomContentLoaded(){var e=document.querySelector(searchInputID),t=document.querySelectorAll(".search-button"),n=document.querySelector(searchContainerID),r=document.querySelector(searchWrapperID),a=document.querySelector(searchCloseButtonID),c=debounce(search,300);a&&a.addEventListener("click",hideSearch),t&&t.forEach(function(e){e.addEventListener("click",showSearch)}),n&&n.addEventListener("click",hideSearch),r&&r.addEventListener("click",function(e){e.stopPropagation()}),e&&e.addEventListener("keyup",c),window.location.hash===searchHash&&showSearch()}window.addEventListener("DOMContentLoaded",onDomContentLoaded),window.addEventListener("hashchange",function(){window.location.hash===searchHash&&showSearch()});